
<!DOCTYPE HTML>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <title>ueditor demo</title>
    <script type="text/javascript" src="http://www.everhomes.com/pub/js/getBasePath.js"></script>
    <link rel="stylesheet" type="text/css" href="http://www.everhomes.com/pub/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="http://www.everhomes.com/pub/css/eh_global.css">
    <link rel="stylesheet" type="text/css" href="http://www.everhomes.com/pub/css/message/bbs.css">
    <style type="text/css">
    </style>
</head>

<body>

<div class="eh_divider"></div>
<h1>表情</h1>
<div class="face_container container">
</div>

<div class="eh_divider"></div>
<h1>纯文本编辑器</h1>
<div class=" container">
    <div id="forum_create"></div>
    <div id="poster_container"></div>
    <div id="id_list"></div>
</div>


<script type="text/javascript" src="http://www.everhomes.com/pub/js/sea.js"></script>
<script type="text/javascript" src="http://www.everhomes.com/pub/js/seajs_config.js"></script>
<script type="text/javascript" src="http://www.everhomes.com/pub/js/seajs-css.js"></script>
<script type="text/javascript" src="http://www.everhomes.com/pub/js/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="http://www.everhomes.com/pub/js/bootstrap.min.js"></script>
<script type="text/javascript" src="http://www.everhomes.com/pub/js/common/ueditor/ueditor.parse.js"></script>
<script type="text/javascript">

    var targetId = '24210090697431752';
    var senderId = '1061';
    var neId = '24210090699101763';

    seajs.use(['js/common/eh_bbs_post_list', 'js/common/eh_forum_create', 'js/common/eh_poster'], function (List, FC, Poster) {

        var poster = new Poster('poster_container', {
            tops: ['title'],
            enableRange: false,
            onSend: function (data) {
                window.alert('在控制台查看');
                console.log(data);
            }
        });
        poster.init();

        window.fc = fc;
    });


    seajs.use('js/common/eh_face', function (M) {
        var m = new M.Face($('.face_container')[0]);
    });

</script>
<script>
    var str = '<img width="NaN" class="emoji" style="vertical-align:middle" src="http://localhost:8080/eh/pub/images/common/emoji/1f61e.png" data-emoji="😞" _src="http://localhost:8080/eh/pub/images/common/emoji/1f61e.png">asdfasdf<img width="NaN" class="emoji" style="vertical-align:middle;" src="http://localhost:8080/eh/pub/images/common/emoji/1f61d.png" data-emoji="😝" _src="http://localhost:8080/eh/pub/images/common/emoji/1f61d.png">asdfasdf<img width="NaN" class="emoji" style="vertical-align:middle" src="http://localhost:8080/eh/pub/images/common/emoji/1f632.png" data-emoji="😲" _src="http://localhost:8080/eh/pub/images/common/emoji/1f632.png"><img width="NaN" class="emoji" style="vertical-align:middle" src="http://localhost:8080/eh/pub/images/common/emoji/1f61d.png" data-emoji="😝" _src="http://localhost:8080/eh/pub/images/common/emoji/1f61d.png">&lt;img /&gt;'
    var result = str.replace(/<img[\w\W]+?data-emoji="(\W+)"[\w\W]+?>/g, '$1');
    console.log(result);

</script>
</body>

</html>
