<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body ng-app="myapp">

<div ng-controller="ctrl.goods">
    <div module-head ng-module="module"></div>

    <section ui-view></section>
</div>

<div ng-controller="ctrl.dingdang">
    <div module-head ng-module="module"></div>

    <section ui-view></section>
</div>

<script src="../bower_components/jquery/dist/jquery.min.js"></script>
<script src="../bower_components/underscore/underscore-min.js"></script>
<script src="../bower_components/angular/angular.min.js"></script>
<script src="../bower_components/angular-ui-router/release/angular-ui-router.min.js"></script>
<script>
    var myModule = angular.module('myapp', ['ui.router']);

    myModule.directive('moduleHead', function () {
        return {
            restrict: 'A',
            scope: {
                ngModule: '='
            },
            templateUrl: 'moduleHead.html',
            controller: function ($scope) {
                $scope.onAction = function (action) {
                    console.log(action);
                };
            }
        }
    });
    myModule.controller('ctrl.goods', function ($scope) {
        $scope.module = {
            name: '商品管理'
        };
    });
    myModule.controller('ctrl.dingdang', function ($scope) {
        $scope.module = {
            left: [{
                html: '商品管理',
                action: 'back'
            },{
                html: 'haha',
                action: function () {
                    
                }
            }],
            right: [{
                html: '发布',
                sub: [
                    {
                        html: '商品',
                        action: function () {

                        }
                    },{
                        html: '场地',
                        action: function () {

                        }
                    }
                ]
            }]

        };
    });
//    myModule.config(function ($stateProvider, $urlRouterProvider) {
//        $urlRouterProvider.otherwise('/edit/10');
//        $stateProvider.state('edit', {
//            url: '/edit/:id',
//            template: '<div>{{sub}} <input type="text"/>  <div ui-view></div> </div>',
//            controller: function ($scope) {
//                $scope.sub = '"people"';
//                $scope.$on('$stateChangeStart', function (event, toState, roParams, fromState, fromParams) {
//                    console.log('people $stateChangeStart');
//                });
//                console.log('people');
//            }
//        }).state('edit.select', {
//            url: '/select',
//            template: '<div>people name:{{name}}, {{hello}}</div>',
//            controller: function ($scope, $stateParams, hello) {
//
//                $scope.name = $stateParams.name;
//                $scope.hello = hello;
//                console.log('people.who');
//            },
//            resolve: {
//                hello: function () {
//                    return '你好吗'
//                }
//            }
//        }).state('c', {
//            url: '/c',
//            template: '<div>1111{{what}}</div>',
////            controller: 'MyCtrl2',
//            controllerAs: 'MyCtrl2'
//        });
//    });
//    myModule.controller('MyCtrl', ['$scope', function ($scope) {
//        $scope.demoname = 'ui-route';
//    }]);
//    myModule.controller('MyCtrl2', ['$scope', function ($scope) {
//        $scope.what = 'asfasdfasdf';
//    }]);
</script>
</body>
</html>