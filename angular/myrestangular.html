<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>
    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/underscore/underscore.js"></script>
    <!--<script src="../bower_components/restangular/dist/restangular.js"></script>-->
    <script src="../bower_components/myrestangular/restangular.js"></script>

</head>
<body ng-app="myApp">

<div ng-controller="MyCtrl">
{{peoples}}
</div>

<script>
    var module = angular.module('myApp', ['restangular']);
    module.config(function ($httpProvider, RestangularProvider) {
        RestangularProvider.setBaseUrl('/demo/api');
    });
    module.controller('MyCtrl', ['$scope', 'Restangular', 'PeopleService', function ($scope, Restangular, PeopleService) {
//        var names = Restangular.one('names');
//        names.get({id: 1}).then(function (data) {
//            console.log(data);
//            var data = data;
//            data.one('haha').get().then(function (data) {
//                console.log(data);
//            });
//        });
//
//        var a = Restangular.oneUrl('adsf', '/ad/');
//        a.one('xxx', 1234).get();
//
//        var people = Restangular.one('people');
//        people.post({name: 'liyatang'}).then(function (data) {
//            console.log(data);
//        });

        $scope.peoples = PeopleService.getList();
    }]);
    module.factory('PeopleService', ['Restangular', function (Restangular) {
        var people = Restangular.one('people');
       return {
           getList: function () {
               return people.get().then(function (data) {
                   console.log(data);
                   return data.data;
               });
           }
       }
    }]);

</script>

</body>
</html>